<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FishRPG - Âç°ÁâåÊàòÊñó</title>
    <!-- ÂØºÂÖ•‰∏écommonÊ®°ÂùóÁõ∏ÂêåÁöÑÂ≠ó‰Ωì -->
    <link
      href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Noto+Sans+SC:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <!-- ÁßªÈô§ÊâÄÊúâÂÜÖËÅîÊ†∑ÂºèÔºåÊâÄÊúâÊ†∑ÂºèÈÄöËøáSCSSÂíåJSÂØºÂÖ• -->
  </head>
  <body>
    <div class="card-game-container">
      <!-- ÊàòÊñóÂú∫ÊôØ -->
      <div id="battle-scene" class="scene">
        <!-- ÊàòÊñóËÉåÊôØË£ÖÈ•∞ -->
        <div class="battle-background">
          <div class="bg-particles"></div>
        </div>

        <!-- ÊïåÊàë‰∏ä‰∏ãÂ∏ÉÂ±ÄÂÆπÂô®ÔºàÊÅ¢Â§çÔºâ -->
        <div>
          <!-- ‰∏äÊñπUIÂå∫Âüü - Êïå‰∫∫ -->
          <div class="enemy-section">
            <!-- Êïå‰∫∫‰ø°ÊÅØÂç° -->
            <div class="enemy-card">
              <div class="enemy-header">
                <div class="enemy-name-wrapper">
                  <div class="enemy-emoji">üëπ</div>
                  <div class="enemy-name" id="enemy-name">ÂàùÂßãÂåñÂ§±Ë¥•ÔºåËØ∑Èáçroll</div>
                </div>
                <div class="enemy-intent">
                  <div class="intent-icon">‚ùì</div>
                  <div class="intent-text">ÂáÜÂ§áË°åÂä®</div>
                </div>
              </div>

              <!-- Êïå‰∫∫Âü∫Á°ÄÂ±ûÊÄß - Áªü‰∏ÄÂ∏ÉÂ±Ä -->
              <div class="character-stats">
                <!-- ÁîüÂëΩÂÄº -->
                <div class="stat-item hp-stat">
                  <div class="stat-icon">ü©∏</div>
                  <div class="stat-bar-container">
                    <div class="stat-bar-bg hp-bg">
                      <div class="stat-bar-fill hp-fill"></div>
                    </div>
                    <div class="stat-text" id="enemy-hp">50/50</div>
                  </div>
                </div>

                <!-- Ê¨≤ÊúõÂÄº -->
                <div class="stat-item lust-stat">
                  <div class="stat-icon">üíó</div>
                  <div class="stat-bar-container">
                    <div class="stat-bar-bg lust-bg">
                      <div class="stat-bar-fill lust-fill"></div>
                    </div>
                    <div class="stat-text" id="enemy-lust">0/100</div>
                  </div>
                </div>

                <!-- Èò≤Âæ° (Êù°‰ª∂ÊòæÁ§∫) -->
                <div class="stat-item block-stat" id="enemy-block-container" style="display: none">
                  <div class="stat-icon">üõ°Ô∏è</div>
                  <div class="stat-value" id="enemy-block">0</div>
                </div>
              </div>

              <!-- Êïå‰∫∫Áä∂ÊÄÅÊïàÊûúÂíåÊ¨≤ÊúõÊïàÊûú - Á¥ßÂáëÂ∏ÉÂ±Ä -->
              <div class="effects-row">
                <!-- Áä∂ÊÄÅÊïàÊûú -->
                <div class="effect-section status-section" id="enemy-status-section">
                  <div class="effect-label">Áä∂ÊÄÅ:</div>
                  <div class="status-effects enemy-status" id="enemy-status-effects">
                    <!-- Êïå‰∫∫Áä∂ÊÄÅÊïàÊûúÂú®Ê≠§ÊòæÁ§∫ -->
                  </div>
                </div>

                <!-- Ê¨≤ÊúõÊïàÊûú -->
                <div class="effect-section lust-section" id="enemy-lust-section">
                  <div class="lust-effect-display" id="enemy-lust-effect">
                    <!-- Êïå‰∫∫Ê¨≤ÊúõÊïàÊûúÂú®Ê≠§ÊòæÁ§∫ -->
                  </div>
                </div>
              </div>

              <!-- Êïå‰∫∫ËÉΩÂäõÂå∫Âüü -->
              <div class="abilities-section">
                <div class="abilities-label">‚ö° ËÉΩÂäõ:</div>
                <div class="abilities-grid" id="enemy-abilities">
                  <!-- Êïå‰∫∫ËÉΩÂäõÂú®Ê≠§ÊòæÁ§∫ -->
                </div>
              </div>
            </div>
          </div>

          <!-- ‰∏≠Â§ÆÊàòÊñóÂå∫Âüü -->
          <div class="battle-area">
            <!-- Ê¨≤ÊúõÂÄºÊª°‰∫ÜÂêéÁöÑÊïàÊûúÂå∫Âüü -->
            <div id="lust-overflow-area" class="lust-overflow-area" style="display: none">
              <div class="lust-overflow-header">
                <h3>Ê¨≤ÊúõÁàÜÂèëÔºÅ</h3>
                <p class="lust-overflow-description">Ê¨≤ÊúõÂÄºÂ∑≤Êª°ÔºåËß¶ÂèëÁâπÊÆäÊïàÊûú...</p>
              </div>
              <div class="lust-overflow-effects">
                <!-- Âä®ÊÄÅÁîüÊàêÁöÑÊïàÊûúÂàóË°® -->
              </div>
              <button id="confirm-lust-overflow" class="lust-overflow-confirm">Á°ÆËÆ§</button>
            </div>

            <!-- ÈÅìÂÖ∑‰ΩøÁî®ÁïåÈù¢ -->
            <div id="item-use-modal" class="item-modal" style="display: none">
              <div class="item-modal-content">
                <div class="item-modal-header">
                  <h3>‰ΩøÁî®ÈÅìÂÖ∑</h3>
                  <button id="close-item-modal" class="close-modal">&times;</button>
                </div>
                <div class="item-list">
                  <!-- Âä®ÊÄÅÁîüÊàêÁöÑÈÅìÂÖ∑ÂàóË°® -->
                </div>
              </div>
            </div>
          </div>

          <!-- ‰∏ãÊñπUIÂå∫Âüü - Áé©ÂÆ∂ÔºàÂπ∂ÊéíÂà∞Âêå‰∏ÄË°åÂÆπÂô®ÂÜÖÔºâ -->
          <div class="player-section">
            <!-- Áé©ÂÆ∂‰ø°ÊÅØÂç° -->
            <div class="player-card">
              <!-- Áé©ÂÆ∂Âü∫Á°ÄÂ±ûÊÄß - Áªü‰∏ÄÂ∏ÉÂ±Ä -->
              <div class="character-stats">
                <!-- ÁîüÂëΩÂÄº -->
                <div class="stat-item hp-stat">
                  <div class="stat-icon">ü©∏</div>
                  <div class="stat-bar-container">
                    <div class="stat-bar-bg hp-bg">
                      <div class="stat-bar-fill hp-fill"></div>
                    </div>
                    <div class="stat-text" id="player-hp">80/80</div>
                  </div>
                </div>

                <!-- Ê¨≤ÊúõÂÄº -->
                <div class="stat-item lust-stat">
                  <div class="stat-icon">üíó</div>
                  <div class="stat-bar-container">
                    <div class="stat-bar-bg lust-bg">
                      <div class="stat-bar-fill lust-fill"></div>
                    </div>
                    <div class="stat-text" id="player-lust">0/100</div>
                  </div>
                </div>

                <!-- Èò≤Âæ° (Êù°‰ª∂ÊòæÁ§∫) -->
                <div class="stat-item block-stat" id="block-stat-container" style="display: none">
                  <div class="stat-icon">üõ°Ô∏è</div>
                  <div class="stat-value" id="player-block">0</div>
                </div>
              </div>

              <!-- Áä∂ÊÄÅÊïàÊûúÂíåÊ¨≤ÊúõÊïàÊûú - Á¥ßÂáëÂ∏ÉÂ±Ä -->
              <div class="effects-row">
                <!-- Áä∂ÊÄÅÊïàÊûú -->
                <div class="effect-section status-section" id="player-status-section">
                  <div class="effect-label">Áä∂ÊÄÅ:</div>
                  <div class="status-effects player-status" id="player-status-effects">
                    <!-- Áé©ÂÆ∂Áä∂ÊÄÅÊïàÊûúÂú®Ê≠§ÊòæÁ§∫ -->
                  </div>
                </div>

                <!-- Ê¨≤ÊúõÊïàÊûú -->
                <div class="effect-section lust-section" id="player-lust-section">
                  <div class="lust-effect-display" id="player-lust-effect">
                    <!-- Áé©ÂÆ∂Ê¨≤ÊúõÊïàÊûúÂú®Ê≠§ÊòæÁ§∫ -->
                  </div>
                </div>
              </div>

              <!-- Áé©ÂÆ∂ËÉΩÂäõÂå∫Âüü -->
              <div class="abilities-section">
                <div class="abilities-label">‚ö° ËÉΩÂäõ:</div>
                <div class="abilities-grid" id="player-abilities">
                  <!-- Áé©ÂÆ∂ËÉΩÂäõÂú®Ê≠§ÊòæÁ§∫ -->
                </div>
              </div>

              <!-- ÈÅóÁâ©Âå∫Âüü -->
              <div class="relic-section">
                <div class="relic-label">üè∫ ÈÅóÁâ©:</div>
                <div class="relic-grid">
                  <!-- ÈÅóÁâ©Âú®Ê≠§ÊòæÁ§∫ -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ÊâãÁâåÂå∫Âüü -->
        <div class="hand-section">
          <div class="hand-header">
            <div class="hand-label">üÉè ÊâãÁâå</div>
            <!-- ËÉΩÈáèÊòæÁ§∫ÁßªÂà∞ÊâãÁâåÊóÅËæπ -->
            <div class="energy-display">
              <div class="stat-icon">‚ö°</div>
              <div class="stat-value" id="player-energy">3/3</div>
            </div>
          </div>
          <div class="player-hand" id="hand-cards">
            <!-- Âç°ÁâåÂú®Ê≠§Âä®ÊÄÅÁîüÊàê -->
          </div>
        </div>

        <!-- ÊéßÂà∂Âå∫Âüü -->
        <div class="control-section">
          <div class="game-controls">
            <div class="game-info">
              <div class="turn-info">
                <div class="turn-counter">ÂõûÂêà: <span class="turn-number" id="turn-number">1</span></div>
                <div class="phase-indicator" id="phase-indicator">Áé©ÂÆ∂ÂõûÂêà</div>
              </div>

              <div class="deck-info">
                <div class="deck-stat clickable" id="draw-pile-btn" data-pile="draw" title="Êü•ÁúãÊäΩÁâåÂ†Ü">
                  <span class="deck-icon">üìö</span>
                  <span class="draw-pile-count" id="draw-pile-count">0</span>
                </div>
                <div class="deck-stat clickable" id="discard-pile-btn" data-pile="discard" title="Êü•ÁúãÂºÉÁâåÂ†Ü">
                  <span class="deck-icon">üóÇÔ∏è</span>
                  <span class="discard-pile-count" id="discard-pile-count">0</span>
                </div>
                <div class="deck-stat clickable" id="exhaust-pile-btn" data-pile="exhaust" title="Êü•ÁúãÊ∂àËÄóÂ†Ü">
                  <span class="deck-icon">üíÄ</span>
                  <span class="exhaust-pile-count" id="exhaust-pile-count">0</span>
                </div>
              </div>

              <!-- È´òÊΩÆÊÉ©ÁΩöÊòæÁ§∫ -->
              <div
                class="climax-penalty"
                style="display: none; color: #ff6b6b; font-size: 0.9em; margin-top: 5px"
                id="climax-penalty"
              >
                <!-- È´òÊΩÆÊÉ©ÁΩöÊèèËø∞Âú®Ê≠§ÊòæÁ§∫ -->
              </div>
            </div>

            <!-- ÊàòÊñóÊéßÂà∂ÊåâÈíÆ -->
            <div class="battle-controls">
              <button class="end-turn-button">ÁªìÊùüÂõûÂêà</button>
              <button id="battle-log-btn" class="control-button">ÊàòÊñóÊó•Âøó</button>
              <button id="modifier-display-btn" class="control-button">‰øÆÈ•∞Á¨¶</button>
              <button id="use-item-btn" class="control-button">‰ΩøÁî®ÈÅìÂÖ∑</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Âä†ËΩΩË¶ÜÁõñÂ±Ç -->
      <div class="loading-overlay" style="display: none">
        <div class="loading-content">
          <div class="loading-spinner"></div>
          <div class="loading-text">AIÊ≠£Âú®ÁîüÊàêÁã¨ÁâπÂÜÖÂÆπ...</div>
          <div class="loading-sub">ËøôÂèØËÉΩÈúÄË¶ÅÂá†ÁßíÈíü</div>
        </div>
      </div>

      <!-- Âèô‰∫ãË¶ÜÁõñÂ±Ç -->
      <div class="narrative-overlay" style="display: none">
        <div class="narrative-content">
          <div class="narrative-text"></div>
        </div>
      </div>

      <!-- Ê∏∏ÊàèÁªìÊùüÂØπËØùÊ°Ü -->
      <div class="game-over-dialog" style="display: none">
        <div class="dialog-backdrop"></div>
        <div class="dialog-content">
          <h2 class="result-title">ÊàòÊñóÁªìÊùü</h2>
          <div class="result-message"></div>
          <div class="dialog-buttons">
            <button class="restart-btn">ÈáçÊñ∞ÂºÄÂßã</button>
            <button class="return-setup-btn">ËøîÂõûËÆæÁΩÆ</button>
          </div>
        </div>
      </div>

      <!-- Êó†Êïå‰∫∫/ÂèòÈáèÊú™Ê≥®ÂÜåÂØπËØùÊ°Ü -->
      <div class="no-enemy-dialog" id="no-enemy-dialog" style="display: none">
        <div class="dialog-backdrop"></div>
        <div class="dialog-content">
          <h2 class="result-title">Êó†Ê≥ïËøõË°åÊàòÊñó</h2>
          <div class="result-message" id="no-enemy-message">Êïå‰∫∫Êï∞ÊçÆÊú™Ê≥®ÂÜåÊàñ‰∏çÂÆåÊï¥ÔºåËØ∑ÂÖàÁîüÊàê/ÈÄâÊã©Êïå‰∫∫„ÄÇ</div>
          <div class="dialog-buttons">
            <button class="return-setup-btn" id="no-enemy-refresh">Âà∑Êñ∞</button>
          </div>
        </div>
      </div>

      <!-- Â•ñÂä±ÂØπËØùÊ°Ü -->
      <div class="reward-dialog" style="display: none">
        <div class="dialog-backdrop"></div>
        <div class="dialog-content">
          <h3 class="reward-title">ÈÄâÊã©Â•ñÂä±</h3>
          <div class="reward-items">
            <!-- Â•ñÂä±È°πÁõÆ‰ºöÂú®ËøôÈáåÊòæÁ§∫ -->
          </div>
          <div class="dialog-buttons">
            <button class="skip-reward-btn">Ë∑≥Ëøá</button>
          </div>
        </div>
      </div>

      <!-- Â∑•ÂÖ∑ÊèêÁ§∫ -->
      <div id="tooltip" class="tooltip" style="display: none">
        <div class="tooltip-name"></div>
        <div class="tooltip-desc"></div>
      </div>
    </div>

    <!-- ÁâåÂ†ÜÊü•ÁúãÂô® -->
    <div id="pile-viewer" class="pile-viewer" style="display: none">
      <div class="pile-viewer-overlay" onclick="closePileViewer()"></div>
      <div class="pile-viewer-content">
        <div class="pile-viewer-header">
          <h3 id="pile-viewer-title">ÁâåÂ†ÜÊü•Áúã</h3>
          <button class="close-btn" onclick="closePileViewer()">‚úï</button>
        </div>
        <div class="pile-viewer-body" id="pile-viewer-cards">
          <!-- Âç°ÁâåÂàóË°®Âú®Ê≠§ÊòæÁ§∫ -->
        </div>
      </div>
    </div>
  </body>
</html>
