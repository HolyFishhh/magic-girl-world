# 变量说明

```json
{
  "status": {
    "time": "当前的时间，格式如：7月18日，周五，傍晚，16:35",
    "location_weather": "当前场景的位置和天气，格式如：地点名称（具体位置） ☀天气",
    "profession": "角色的职业和能力描述",
    // 一个字符串数组，记录角色获得的长期状态，包含名称和描述
    "permanent_status": [
      {
        // 永久性状态结构示例
        "name": "(string) 状态名称，简短的概括状态",
        "description": "(string) 状态的详细描述，详细的描述状态"
      }
    ],
    // 一个字符串数组，记录角色获得的短期状态，仅有名称
    "temporary_status": [
      "状态名称示例"
    ],
    // 角色当前的穿着
    "clothing": {
      "head": "头部穿戴的服饰",
      "neck": "颈部穿戴的饰品",
      "hands": "手部穿戴的装备",
      "upper_body": "上身穿的衣服",
      "lower_body": "下身穿的裤/裙",
      "underwear": "内衣",
      "legs": "腿部穿戴的服饰，如袜子、腿环",
      "feet": "脚上穿的鞋子"
    },
    // 一个字符串数组，记录角色当前携带的非战斗用关键物品或杂物
    "inventory": [
      "物品示例"
    ]
  },
  // 战斗相关变量
  "battle": {
    // 核心战斗数值
    "core": {
      "hp": 100, // 角色的当前生命值。可以根据开局设定（如负伤）进行调整。
      "max_hp": 100, // 角色的最大生命值上限，默认100
      "lust": 0, // 角色的当前欲望值。可以根据开局设定进行调整。
      "max_lust": 100, // 角色的欲望值上限，默认100，可能因某些效果而降低
      "card_removal_count": 0 // 在战斗或特定事件中可删除卡组中卡牌的次数
    },
    // 卡牌数组，包含所有可用的卡牌对象（手牌、牌库、弃牌堆在游戏内部管理）
    "cards": [
      {
        // 卡牌对象结构示例
        "id": "(string) 卡牌的唯一ID",
        "name": "(string) 卡牌中文名称",
        "emoji": "(string) 一个与卡牌匹配的表情符号",
        "type": "(string) 卡牌类型 (Attack, Skill, Power, Event, Curse)",
        "rarity": "(string) 稀有度 (Common, Uncommon, Rare, Epic, Legendary, Corrupt)",
        "cost": "(number | "energy"): 打出卡牌需要消耗的能量值。为数字时代表具体消耗能量，为energy代表消耗所有能量",
        "quantity": 1, //该卡牌的持有数量
        "description": "(string) 卡牌效果的中文描述",
        "effect": "(string) 使用统一效果表达式语法的效果字符串",
        "discard_effect": "(string, 可选) 当此卡牌因为效果被弃掉时触发的效果。使用与effect相同的语法",
        "retain": false, // (可选)  如果为 `true`，此卡在回合结束时不会因为重新抽牌被丢弃。
        "exhaust": false, // (可选) 如果为 `true`，此卡使用后将从战斗中移除。
        "ethereal": false // (可选): 如果在回合结束时未打出，则从战斗中移除。
      }
    ],
    // 遗物对象数组
    "artifacts": [
      {
        // 遗物对象结构示例
        "id": "(string) 遗物的唯一ID",
        "name": "(string) 遗物名称",
        "emoji": "(string) 表情符号",
        "description": "(string) 遗物的详细故事和效果描述",
        "effect": "(string) 使用统一效果表达式语法的效果字符串"
      }
    ],
    // 道具对象数组
    "items": [
      {
        // 道具对象结构示例
        "id": "(string) 道具的唯一ID",
        "name": "(string) 道具名称",
        "emoji": "(string) 表情符号",
        "description": "(string) 道具的详细效果描述",
        "count": 1,
        "effect": "(string) 使用统一效果表达式语法的效果字符串"
      }
    ],
    // 状态定义数组，用于存储AI自定义的buff/debuff定义
    "statuses": [
      {
        // 状态对象结构示例
        "id": "(string) 状态的唯一ID",
        "name": "(string) 状态名称",
        "emoji": "(string) 表情符号",
        "description": "(string) 状态的详细描述",
        "type": "(string) 状态类型 (buff, debuff, neutral)",
        "stacks_change": -1, // (可选) 每回合层数变化，如-1表示每回合-1层，x0.5表示每回合层数减半，reset表示每回合清零，keep表示不变化
        // 触发效果定义，内部包含buff效果的触发条件，效果使用统一效果表达式语法
        "triggers": {
          "apply": "(string) (可选) 施加时触发的效果",
          "tick": "(string) (可选) 每回合触发的效果",
          "remove": "(string) (可选) 移除时触发的效果",
          "hold": "(string) (可选) 持有时触发的效果"
        }
      }
    ],
    "level": 1, // 角色等级，你无法直接操作，通过程序升级
    "exp": 0, // 当前经验值，公式为100+50xn，你只需要输出经验值即可，不需要涉及到升级计算。由程序执行
    // 玩家让敌人欲望满溢时的效果
    "player_lust_effect": {
      "name": "玩家让敌人欲望满溢时的效果名称",
      "description": "当玩家让敌人欲望值达到上限时触发的效果描述",
      "effect": "使用统一效果表达式语法的效果字符串"
    }
  },
  // 势力与关系
  "factions": {
    "player_alignment": "绝对中立", // 玩家的道德阵营，九宫格之一
    // 关系对象数组
    "relations": [
      {
        // 关系对象结构示例
        "name": "(string) 势力名称",
        "reputation": 0,
        "status": "(string) 关系状态，如'友好'、'警惕'、'敌对'",
        "note": "(string) 关系备注"
      }
    ]
  },
  // NPC管理
  // 一个可扩展的对象，键为NPC的唯一ID，值为NPC对象。仅重要人物才会注册为npc，普通敌人，路人，不会注册。
  "npcs": {
    // NPC对象结构示例
    "npc_id_example": {
      "name": "(string) NPC姓名",
      "tracking": true,
      "current_action": "(string) 当前在做什么，仅在tracking为true时显示",
      "affection": 0,
      "affection_level": "(string) 好感度等级描述",
      "alignment": "(string) NPC的道德阵营",
      "relationship": "(string) 与玩家的关系",
      "other_npc_relations": "(string) 与其他NPC的关系",
      "level": 1,
      "appearance": "(string) NPC的外貌特征",
      "abilities": "(string) NPC的能力和技能",
      "battle_style": "(string) NPC的卡牌战斗策略和风格"
    }
  },
  // 奖励临时变量
  // 仅用于本次可选奖励展示，玩家确认后会被移除，并加入到对应的变量。建议三选一。
  "reward": {
    // 卡牌候选数组（结构与 battle.cards 的元素一致）
    "card": [],
    // 遗物候选数组（结构与 battle.artifacts 的元素一致）
    "artifact": [],
    // 道具候选数组（结构与 battle.items 的元素一致）
    "item": [],
    // 可选数量限制，默认均为1
    "limits": {
      "cards": 1,
      "artifacts": 1,
      "items": 1
    }
  }
}
```

## 重要规则
- 所有的变量都不需要使用字典额外增加描述，严禁不遵守格式，对string内容做错误处理，注册时直接按要求填入内容即可